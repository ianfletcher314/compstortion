<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Compstortion - Guitar Pedal</title>
  <link rel="stylesheet" href="css/pedal.css">
</head>
<body>
  <div class="container">
    <h1 class="title">Compstortion</h1>

    <!-- Signal chain visualization -->
    <div class="signal-chain">
      <div class="cable-container">
        <svg class="cable" viewBox="0 0 100 60" preserveAspectRatio="none">
          <defs>
            <linearGradient id="cableGradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#444"/>
              <stop offset="50%" style="stop-color:#222"/>
              <stop offset="100%" style="stop-color:#333"/>
            </linearGradient>
          </defs>
          <path d="M 0 30 Q 25 50 50 30 T 100 30" stroke="url(#cableGradient)" stroke-width="6" fill="none" stroke-linecap="round"/>
          <path d="M 0 30 Q 25 50 50 30 T 100 30" stroke="#555" stroke-width="2" fill="none" stroke-linecap="round" stroke-dasharray="0 12"/>
        </svg>
        <div class="jack jack-input">
          <div class="jack-plug"></div>
        </div>
      </div>
      <span class="signal-label">IN</span>
    </div>

    <div class="pedal-board">
      <!-- Compressor 1 -->
      <div class="pedal" id="comp1">
        <div class="pedal-top">
          <div class="screw"></div>
          <div class="screw"></div>
        </div>

        <h2 class="pedal-name">Comp 1</h2>

        <div class="led-container">
          <div class="led" id="led-comp1"></div>
        </div>

        <div class="knobs knobs-6">
          <div class="knob-group">
            <div class="knob" data-param="threshold" data-pedal="comp1">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Thresh</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="ratio" data-pedal="comp1">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Ratio</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="attack" data-pedal="comp1">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Attack</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="release" data-pedal="comp1">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Release</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="level" data-pedal="comp1">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Level</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="blend" data-pedal="comp1">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Blend</label>
          </div>
        </div>

        <div class="footswitch-container">
          <button class="footswitch" data-pedal="comp1" aria-label="Toggle Compressor 1">
            <span class="footswitch-label">1</span>
          </button>
        </div>

        <div class="pedal-bottom">
          <div class="screw"></div>
          <div class="screw"></div>
        </div>
      </div>

      <!-- Distortion -->
      <div class="pedal" id="distortion">
        <div class="pedal-top">
          <div class="screw"></div>
          <div class="screw"></div>
        </div>

        <h2 class="pedal-name">Distortion</h2>

        <div class="led-container">
          <div class="led" id="led-distortion"></div>
        </div>

        <div class="type-selector" id="distortion-type-selector" title="Click to change type (D key)">
          <span class="type-label">TYPE</span>
          <span class="type-display" id="distortion-type-display">TS9</span>
          <span class="type-arrows">&#8592; &#8594;</span>
        </div>

        <div class="knobs">
          <div class="knob-group">
            <div class="knob" data-param="drive" data-pedal="distortion">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Drive</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="tone" data-pedal="distortion">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Tone</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="level" data-pedal="distortion">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Level</label>
          </div>
        </div>

        <div class="footswitch-container">
          <button class="footswitch" data-pedal="distortion" aria-label="Toggle Distortion">
            <span class="footswitch-label">2</span>
          </button>
        </div>

        <div class="pedal-bottom">
          <div class="screw"></div>
          <div class="screw"></div>
        </div>
      </div>

      <!-- Compressor 2 -->
      <div class="pedal" id="comp2">
        <div class="pedal-top">
          <div class="screw"></div>
          <div class="screw"></div>
        </div>

        <h2 class="pedal-name">Comp 2</h2>

        <div class="led-container">
          <div class="led" id="led-comp2"></div>
        </div>

        <div class="knobs knobs-6">
          <div class="knob-group">
            <div class="knob" data-param="threshold" data-pedal="comp2">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Thresh</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="ratio" data-pedal="comp2">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Ratio</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="attack" data-pedal="comp2">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Attack</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="release" data-pedal="comp2">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Release</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="level" data-pedal="comp2">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Level</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="blend" data-pedal="comp2">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Blend</label>
          </div>
        </div>

        <div class="footswitch-container">
          <button class="footswitch" data-pedal="comp2" aria-label="Toggle Compressor 2">
            <span class="footswitch-label">3</span>
          </button>
        </div>

        <div class="pedal-bottom">
          <div class="screw"></div>
          <div class="screw"></div>
        </div>
      </div>

      <!-- Amp Simulator -->
      <div class="pedal amp-pedal" id="amp">
        <div class="pedal-top">
          <div class="screw"></div>
          <div class="screw"></div>
        </div>

        <h2 class="pedal-name">Amp Sim</h2>

        <div class="led-container">
          <div class="led" id="led-amp"></div>
        </div>

        <div class="type-selector" id="amp-type-selector" title="Click to change amp (A key)">
          <span class="type-label">AMP</span>
          <span class="type-display" id="amp-type-display">CLEAN</span>
          <span class="type-arrows">&#8592; &#8594;</span>
        </div>

        <div class="knobs knobs-4">
          <div class="knob-group">
            <div class="knob" data-param="bass" data-pedal="amp">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Bass</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="mid" data-pedal="amp">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Mid</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="treble" data-pedal="amp">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Treble</label>
          </div>
          <div class="knob-group">
            <div class="knob" data-param="gain" data-pedal="amp">
              <div class="knob-inner">
                <div class="knob-indicator"></div>
              </div>
            </div>
            <label>Gain</label>
          </div>
        </div>

        <div class="footswitch-container">
          <button class="footswitch" data-pedal="amp" aria-label="Toggle Amp Simulator">
            <span class="footswitch-label">4</span>
          </button>
        </div>

        <div class="pedal-bottom">
          <div class="screw"></div>
          <div class="screw"></div>
        </div>
      </div>
    </div>

    <!-- Output signal chain -->
    <div class="signal-chain signal-chain-out">
      <span class="signal-label">OUT</span>
      <div class="cable-container">
        <div class="jack jack-output">
          <div class="jack-plug"></div>
        </div>
        <svg class="cable" viewBox="0 0 100 60" preserveAspectRatio="none">
          <path d="M 0 30 Q 25 10 50 30 T 100 30" stroke="url(#cableGradient)" stroke-width="6" fill="none" stroke-linecap="round"/>
          <path d="M 0 30 Q 25 10 50 30 T 100 30" stroke="#555" stroke-width="2" fill="none" stroke-linecap="round" stroke-dasharray="0 12"/>
        </svg>
      </div>
    </div>

    <div class="controls">
      <button id="start-audio" class="start-button">Start Audio</button>
      <select id="input-select" class="input-select" disabled>
        <option value="">Select Input Device</option>
      </select>
      <select id="channel-select" class="input-select">
        <option value="mono">Mono Mix</option>
        <option value="left">Left Channel</option>
        <option value="right">Right Channel</option>
      </select>
    </div>

    <div class="instructions">
      <p>Connect your guitar via USB interface, click "Start Audio", then use footswitches (or keys 1-2-3-4) to toggle effects. Press D to cycle distortion types, A to cycle amp models.</p>
    </div>
  </div>

  <script src="js/main.js" type="module"></script>
</body>
</html>
